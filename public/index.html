<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kaspa Ecosystem - Discover Projects Building on Kaspa</title>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <link rel="stylesheet" href="css/kaspa-ecosystem.css">
    <style>
        /* Styles de base */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            background: #0F172A;
            color: #CBD5E1;
            line-height: 1.6;
        }
        /* Ajoutez ici tous les styles de votre index.html actuel */
    </style>
</head>
<body>
    <header>
        <div class="container">
            <h1>‚ö° Kaspa Ecosystem</h1>
            <div class="wallet-section">
                <button class="submit-project-btn" onclick="showSubmitModal()" title="Submit a new project">+</button>
                <button class="wallet-connect-btn" onclick="showWalletModal()">

    <!-- Featured Projects Carousel -->
    <section id="featured-carousel" class="featured-section">
        <div class="container">
            <h2>üöÄ Featured Projects</h2>
            <div class="carousel-container">
                <div class="carousel-track" id="carousel-track">
                    <!-- Projects will be loaded here dynamically -->
                </div>
                <button class="carousel-btn prev" onclick="app.moveCarousel(-1)" aria-label="Previous">‚Äπ</button>
                <button class="carousel-btn next" onclick="app.moveCarousel(1)" aria-label="Next">‚Ä∫</button>
            </div>
            <div id="no-featured" class="no-featured" style="display: none;">
                <p>No featured projects yet. Be the first to sponsor a project!</p>
                <button class="btn btn-primary" onclick="app.showAllProjects()">Browse Projects</button>
            </div>
        </div>
    </section>
                    <span id="wallet-status">üîó Connect Wallet</span>
                </button>
            </div>
        </div>
    </header>

    <!-- Featured Projects Carousel -->
    <section id="featured-carousel" class="featured-section">
        <div class="container">
            <h2>üöÄ Featured Projects</h2>
            <div class="carousel-container">
                <div class="carousel-track" id="carousel-track">
                    <!-- Projects will be loaded here dynamically -->
                </div>
                <button class="carousel-btn prev" onclick="app.moveCarousel(-1)">‚Äπ</button>
                <button class="carousel-btn next" onclick="app.moveCarousel(1)">‚Ä∫</button>
            </div>
            <div id="no-featured" class="no-featured" style="display: none;">
                <p>No featured projects yet. Be the first to sponsor a project!</p>
                <button class="btn btn-primary" onclick="app.showAllProjects()">Browse Projects</button>
            </div>
        </div>
    </section>

    <main class="container">
        <!-- Categories, Projects, etc. -->
        <div id="app-content">
            <!-- Votre contenu existant ici -->
        </div>
    </main>

    <!-- Submit Project Modal -->
    <div id="submit-modal" class="modal">
        <div class="modal-content" style="max-width: 700px;">
            <div class="modal-header">
                <h2 class="modal-title">üöÄ Submit New Project</h2>
                <button class="close-btn" onclick="closeModal()">&times;</button>
            </div>
            <div class="modal-body">
                <form id="submit-project-form" onsubmit="submitProject(event)">
                    <div class="form-row">
                        <div class="form-group">
                            <label>Project Name <span class="required">*</span></label>
                            <input type="text" name="title" class="form-control" placeholder="My Awesome Kaspa Project" required maxlength="100">
                        </div>
                        <div class="form-group">
                            <label>Category <span class="required">*</span></label>
                            <select name="category" class="form-control" required>
                                <option value="">Select a category</option>
                                <option value="wallet">üíõ Wallet</option>
                                <option value="exchange">üí± Exchange</option>
                                <option value="mining">‚õèÔ∏è Mining</option>
                                <option value="defi">üèõÔ∏è DeFi</option>
                                <option value="nft">üé® NFT</option>
                                <option value="tool">üîß Tool</option>
                                <option value="community">üë• Community</option>
                                <option value="other">üì¶ Other</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Description <span class="required">*</span></label>
                        <textarea name="description" class="form-control" rows="4" placeholder="Describe your project..." required maxlength="500"></textarea>
                        <small class="form-text">Max 500 characters</small>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Website URL <span class="required">*</span></label>
                            <input type="url" name="website" class="form-control" placeholder="https://myproject.com" required>
                        </div>
                        <div class="form-group">
                            <label>Logo URL</label>
                            <input type="url" name="logo_url" class="form-control" placeholder="https://myproject.com/logo.png">
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Social Links</label>
                        <div class="social-inputs">
                            <input type="url" name="twitter" class="form-control" placeholder="Twitter/X URL (optional)">
                            <input type="url" name="github" class="form-control" placeholder="GitHub URL (optional)">
                            <input type="url" name="discord" class="form-control" placeholder="Discord invite URL (optional)">
                            <input type="url" name="telegram" class="form-control" placeholder="Telegram URL (optional)">
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="checkbox-label">
                            <input type="checkbox" name="terms" required>
                            I confirm this is a legitimate Kaspa ecosystem project
                        </label>
                    </div>
                    <div class="wallet-requirement">
                        <p><i class="icon-info"></i> Wallet connection required to submit</p>
                    </div>
                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary" onclick="closeModal()">Cancel</button>
                        <button type="submit" class="btn btn-primary" id="submit-btn">
                            <span class="btn-text">Submit Project</span>
                            <span class="btn-loading" style="display: none;">‚è≥ Submitting...</span>
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="js/supabase-client.js"></script>
    <script src="js/kaspa-wallet-integration.js"></script>
    <script src="js/kaspa-sponsorship-system.js"></script>
    <script src="js/kaspa-ecosystem-app.js"></script>
    <script src="js/submit-project.js"></script>
    <script src="js/submit-project-update.js"></script>
    <script>
        // Initialisation
        let app;
        window.addEventListener('DOMContentLoaded', async () => {
            app = new KaspaEcosystemApp();
            window.app = app; // Rendre app global
            
            // Initialiser les fonctions du carousel
            if (app.initFeaturedCarousel) {
                await app.initFeaturedCarousel();
            }
        });
    </script>

    <!-- Submit Project Modal -->
    <div id="submit-modal" class="modal">
        <div class="modal-content" style="max-width: 700px;">
            <div class="modal-header">
                <h2 class="modal-title">üöÄ Submit New Project</h2>
                <button class="close-btn" onclick="closeModal()">&times;</button>
            </div>
            <div class="modal-body">
                <form id="submit-project-form" onsubmit="submitProject(event)">
                    <div class="form-row">
                        <div class="form-group">
                            <label>Project Name <span class="required">*</span></label>
                            <input type="text" name="title" class="form-control" placeholder="My Awesome Kaspa Project" required maxlength="100">
                        </div>
                        <div class="form-group">
                            <label>Category <span class="required">*</span></label>
                            <select name="category" class="form-control" required>
                                <option value="">Select a category</option>
                                <option value="wallet">üíõ Wallet</option>
                                <option value="exchange">üí± Exchange</option>
                                <option value="mining">‚õèÔ∏è Mining</option>
                                <option value="defi">üèõÔ∏è DeFi</option>
                                <option value="nft">üé® NFT</option>
                                <option value="tool">üîß Tool</option>
                                <option value="community">üë• Community</option>
                                <option value="other">üì¶ Other</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Description <span class="required">*</span></label>
                        <textarea name="description" class="form-control" rows="4" placeholder="Describe your project..." required maxlength="500"></textarea>
                        <small class="form-text">Max 500 characters</small>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Website URL <span class="required">*</span></label>
                            <input type="url" name="website" class="form-control" placeholder="https://myproject.com" required>
                        </div>
                        <div class="form-group">
                            <label>Logo URL</label>
                            <input type="url" name="logo_url" class="form-control" placeholder="https://myproject.com/logo.png">
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Social Links</label>
                        <div class="social-inputs">
                            <input type="url" name="twitter" class="form-control" placeholder="Twitter/X URL (optional)">
                            <input type="url" name="github" class="form-control" placeholder="GitHub URL (optional)">
                            <input type="url" name="discord" class="form-control" placeholder="Discord invite URL (optional)">
                            <input type="url" name="telegram" class="form-control" placeholder="Telegram URL (optional)">
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="checkbox-label">
                            <input type="checkbox" name="terms" required>
                            I confirm this is a legitimate Kaspa ecosystem project
                        </label>
                    </div>
                    <div class="wallet-requirement">
                        <p><i class="icon-info"></i> Wallet connection required to submit</p>
                    </div>
                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary" onclick="closeModal()">Cancel</button>
                        <button type="submit" class="btn btn-primary" id="submit-btn">
                            <span class="btn-text">Submit Project</span>
                            <span class="btn-loading" style="display: none;">‚è≥ Submitting...</span>
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</body>
</html>
